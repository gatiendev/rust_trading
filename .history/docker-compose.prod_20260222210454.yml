version: '3.8'

services:
  binance-streamer:
    build:
      context: .
      dockerfile: Dockerfile.prod
    image: binance-streamer:latest
    container_name: binance-streamer
    command: ["${STREAM_TYPE:-m5}"] 
    dns:
    - "8.8.8.8"
    # Restart unless manually stopped (useful for production)
    restart: unless-stopped
    # Override the default command (which is "trade") by uncommenting and modifying below
    # command: ["m5"]
    # If you later add API keys or other configuration, pass them as environment variables
    environment:
      - TZ=UTC   # optional: set timezone for logs
      - STREAM_TYPE=m5 
    # No ports needed â€“ this is a console application
    # For logging, you can view with `docker logs -f binance-streamer`

# Start with trade (default)
# docker-compose up 

# Start with m5
# STREAM_TYPE=m5 docker-compose up 